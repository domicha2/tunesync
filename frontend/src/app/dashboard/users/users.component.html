<div id="users-wrapper" class="column">
  <div id="top-bar" class="row">
    <h1>Users</h1>
    <button mat-icon-button (click)="onInvite()" matTooltip="Add users to room">
      <mat-icon>add_circle</mat-icon>
    </button>
    <button mat-icon-button (click)="onSignOut()" matTooltip="Sign out">
      <mat-icon>exit_to_app</mat-icon>
    </button>
  </div>

  <div class="list-wrapper column" cdkDropListGroup>
    <h2>Admin</h2>
    <div
      id="admin-users"
      class="column"
      cdkDropList
      [cdkDropListData]="users.admin"
      (cdkDropListDropped)="drop($event, 'A')"
    >
      <div
        class="list-el"
        *ngFor="let user of users.admin"
        cdkDrag
        [cdkDragDisabled]="(userRole$ | async) !== 'A'"
      >
        <h3>{{ user.name }}</h3>
      </div>
    </div>
    <h2>DJ</h2>
    <div
      id="dj-users"
      class="column"
      cdkDropList
      [cdkDropListData]="users.dj"
      (cdkDropListDropped)="drop($event, 'D')"
    >
      <div
        class="list-el"
        *ngFor="let user of users.dj"
        cdkDrag
        [cdkDragDisabled]="(userRole$ | async) !== 'A'"
      >
        <h3>{{ user.name }}</h3>
      </div>
    </div>
    <h2>Regular</h2>
    <div
      id="regular-users"
      class="column"
      cdkDropList
      [cdkDropListData]="users.regular"
      (cdkDropListDropped)="drop($event, 'R')"
    >
      <div
        class="list-el row"
        *ngFor="let user of users.regular"
        cdkDrag
        [cdkDragDisabled]="(userRole$ | async) !== 'A'"
      >
        <h3>{{ user.name }}</h3>
        <button
          *ngIf="(userRole$ | async) === 'A'"
          mat-icon-button
          matTooltip="Kick user"
          (click)="onKickUser(user)"
        >
          <mat-icon>delete_forever</mat-icon>
        </button>
      </div>
    </div>
  </div>
</div>
